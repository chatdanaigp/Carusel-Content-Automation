<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TradingFlow GenAI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // =================================================================
      // Vercel / Client-Side Deployment Shim for process.env
      // =================================================================
      // This script ensures `window.process.env` is available in browser environments
      // and ensures `process.env.API_KEY` is loaded from the build environment (e.g., Vercel)
      // or set by `window.aistudio.openSelectKey()`.
      // It strictly adheres to the @google/genai coding guidelines regarding API key access.
      // =================================================================
      (function() {
        // 1. Polyfill process.env if it doesn't exist (common in Vite/Browser)
        if (!window.process) window.process = { env: {} };
        if (!window.process.env) window.process.env = {};

        // 2. IMPORTANT: Do NOT load or save API key from/to localStorage here.
        // As per @google/genai coding guidelines:
        // - The API key must be obtained *exclusively* from `process.env.API_KEY`.
        // - Do *not* generate any UI elements (input fields, forms, prompts) for entering or managing the API key.
        // - `window.aistudio.hasSelectedApiKey()` and `window.aistudio.openSelectKey()` are assumed to be
        //   pre-configured and valid for interactive selection when using paid models.
        //
        // Therefore, the shim ensures `process.env` exists, and if `window.aistudio` is not present,
        // it assumes `process.env.API_KEY` would be provided directly by the build environment.
        // The `ApiKeyGuard` component then handles the interaction with `window.aistudio` if it exists.

        // If a build-time environment variable like VITE_API_KEY or REACT_APP_API_KEY
        // is used (e.g., for local development without AI Studio), it would typically
        // be injected here by the build tool or made available as process.env.API_KEY.
        // For production deployments where `window.aistudio` is expected, process.env.API_KEY
        // will be populated by the AI Studio platform after user selection.
      })();
    </script>
  <script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3",
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react-dom/client": "https://esm.sh/react-dom@^19.2.3/client",
    "html2canvas": "https://esm.sh/html2canvas@1.4.1"
  }
}
</script>
</head>
  <body class="bg-slate-900">
    <div id="root"></div>
  </body>
</html>